<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="647" height="822" viewBox="-0.5 -0.5 647 822" content="&lt;mxfile host=&quot;app.diagrams.net&quot; modified=&quot;2020-04-18T17:22:14.584Z&quot; agent=&quot;5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.92 Safari/537.36&quot; etag=&quot;Ku_y-Y50E5bM67t7GPSk&quot; version=&quot;12.9.14&quot; type=&quot;google&quot;&gt;&lt;diagram id=&quot;vNGPFZwJA6df0QedMBRH&quot; name=&quot;Persistence Framework&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;"><defs><clipPath id="mx-clip-34-31-162-44-0"><rect x="34" y="31" width="162" height="44"/></clipPath><clipPath id="mx-clip-34-83-162-26-0"><rect x="34" y="83" width="162" height="26"/></clipPath><clipPath id="mx-clip-4-219-222-66-0"><rect x="4" y="219" width="222" height="66"/></clipPath><clipPath id="mx-clip-339-211-152-26-0"><rect x="339" y="211" width="152" height="26"/></clipPath><clipPath id="mx-clip-339-245-152-26-0"><rect x="339" y="245" width="152" height="26"/></clipPath><clipPath id="mx-clip-339-40-262-24-0"><rect x="339" y="40" width="262" height="24"/></clipPath><clipPath id="mx-clip-339-72-262-52-0"><rect x="339" y="72" width="262" height="52"/></clipPath><clipPath id="mx-clip-4-531-192-26-0"><rect x="4" y="531" width="192" height="26"/></clipPath><clipPath id="mx-clip-4-565-192-70-0"><rect x="4" y="565" width="192" height="70"/></clipPath><clipPath id="mx-clip-34-381-152-26-0"><rect x="34" y="381" width="152" height="26"/></clipPath><clipPath id="mx-clip-34-415-152-26-0"><rect x="34" y="415" width="152" height="26"/></clipPath><filter id="dropShadow"><feGaussianBlur in="SourceAlpha" stdDeviation="1.7" result="blur"/><feOffset in="blur" dx="3" dy="3" result="offsetBlur"/><feFlood flood-color="#3D4574" flood-opacity="0.4" result="offsetColor"/><feComposite in="offsetColor" in2="offsetBlur" operator="in" result="offsetBlur"/><feBlend in="SourceGraphic" in2="offsetBlur"/></filter></defs><g filter="url(#dropShadow)"><path d="M 30 26 L 30 0 L 200 0 L 200 26" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 30 26 L 30 104 L 200 104 L 200 26" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 30 26 L 200 26" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="12px"><text x="114.5" y="17.5">IndexedFile</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-34-31-162-44-0)" font-size="12px"><text x="35.5" y="43.5">fat: FAT</text><text x="35.5" y="57.5">bytesToBits: BytesToBits</text></g><path d="M 30 74 L 200 74" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-34-83-162-26-0)" font-size="12px"><text x="35.5" y="95.5">IndexedFile(File desiredFile)</text></g><path d="M 115 180 L 115 111.13" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 115 104.13 L 118.5 111.13 L 111.5 111.13 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 0 206 L 0 180 L 230 180 L 230 206" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 0 206 L 0 280 L 230 280 L 230 206" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 0 206 L 230 206" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="12px"><text x="114.5" y="197.5">SecureFileSystem</text></g><path d="M 0 210 L 230 210" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-4-219-222-66-0)" font-size="12px"><text x="5.5" y="231.5">+ copyPassword(SecureString password)</text><text x="5.5" y="245.5"># SecureString getPassword()</text><text x="5.5" y="259.5">+ getFileMeta(fileName: String)</text><text x="5.5" y="273.5">+ getDetails(fileName: String)</text></g><path d="M 335 206 L 335 180 L 495 180 L 495 206" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 335 206 L 335 266 L 495 266 L 495 206" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 335 206 L 495 206" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="12px"><text x="414.5" y="197.5">ChunkedFile</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-339-211-152-26-0)" font-size="12px"><text x="340.5" y="223.5">- location: File</text></g><path d="M 335 236 L 495 236" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-339-245-152-26-0)" font-size="12px"><text x="340.5" y="257.5">ChunkedFile(File location)</text></g><path d="M 335 35 L 335 9 L 605 9 L 605 35" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 335 35 L 335 119 L 605 119 L 605 35" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 335 35 L 605 35" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="12px"><text x="469.5" y="26.5">FAT</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-339-40-262-24-0)" font-size="12px"><text x="340.5" y="52.5">accessLock: ReentrantReadWriteLock</text></g><path d="M 335 63 L 605 63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-339-72-262-52-0)" font-size="12px"><text x="340.5" y="84.5">_touch(String fileName)</text><text x="340.5" y="98.5">_removeUnitFor(String fileName, long unitIndex)</text></g><path d="M 207.71 48 L 267.5 48 L 267.5 47 L 328.63 47" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 200.71 48 L 204.21 44.5 L 207.71 48 L 204.21 51.5 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 333.88 47 L 326.88 50.5 L 328.63 47 L 326.88 43.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 207.71 91 L 267.5 91 L 267.5 219 L 328.63 219" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 200.71 91 L 204.21 87.5 L 207.71 91 L 204.21 94.5 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 333.88 219 L 326.88 222.5 L 328.63 219 L 326.88 215.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="420" y="500" width="180" height="110" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 182px; height: 110px; padding-top: 500px; margin-left: 420px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; width: 182px; height: 110px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; width: 100%; height: 100%; white-space: nowrap; "><p style="margin: 0px ; margin-top: 4px ; text-align: center"><i>&lt;&lt;Interface&gt;&gt;</i><br /><b>FileType</b></p><hr size="1" /><p style="margin: 0px ; margin-left: 4px">+ firstByte: Byte</p><p style="margin: 0px ; margin-left: 4px">+ secondByte: Byte?</p><hr size="1" /><p style="margin: 0px ; margin-left: 4px">+ getBytes(): Array&lt;Byte?&gt;</p></div></div></div></foreignObject><text x="420" y="512" fill="#000000" font-family="Helvetica" font-size="12px">&lt;&lt;Interface&gt;&gt;...</text></switch></g><path d="M 520 680 L 520 645 L 510 645 L 510 618.12" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><path d="M 510 611.12 L 513.5 618.12 L 506.5 618.12 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="400" y="680" width="240" height="135" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 242px; height: 135px; padding-top: 680px; margin-left: 400px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; width: 242px; height: 135px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; width: 100%; height: 100%; white-space: nowrap; "><p style="margin: 0px ; margin-top: 4px ; text-align: center"><b>FileTypes</b></p><hr size="1" /><p style="margin: 0px ; margin-left: 4px">+ SYSTEM(1)</p><p style="margin: 0px ; margin-left: 4px">+ UNKNOWN(1,1)</p><p style="margin: 0px ; margin-left: 4px">+DATA(1,2)</p><hr size="1" /><p style="margin: 0px ; margin-left: 4px">+ static registerFileTypes([FileType])</p><p style="margin: 0px ; margin-left: 4px">+ static getFileType([Byte?]): FileType</p></div></div></div></foreignObject><text x="400" y="692" fill="#000000" font-family="Helvetica" font-size="12px">FileTypes...</text></switch></g><path d="M 207.71 539 L 310 539 L 310 555 L 411.88 555" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><path d="M 200.71 539 L 204.21 535.5 L 207.71 539 L 204.21 542.5 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 418.88 555 L 411.88 558.5 L 411.88 551.5 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 220 560 L 386 560 L 400 574 L 400 645 L 220 645 L 220 560 Z" fill="#fff2cc" stroke="#d6b656" stroke-miterlimit="10" pointer-events="none"/><path d="M 386 560 L 386 574 L 400 574" fill="none" stroke="#d6b656" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 178px; height: 1px; padding-top: 561px; margin-left: 222px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">Filetype is stored using an array of bytes representing the file type.  Getting the type itself is performed using FileTypes.getFileType()</div></div></div></foreignObject><text x="222" y="573" fill="#000000" font-family="Helvetica" font-size="12px">Filetype is stored using an ar...</text></switch></g><path d="M 0 526 L 0 500 L 200 500 L 200 526" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 0 526 L 0 630 L 200 630 L 200 526" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 0 526 L 200 526" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="12px"><text x="99.5" y="517.5">FileMeta</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-4-531-192-26-0)" font-size="12px"><text x="5.5" y="543.5">- ftb: ByteArray</text></g><path d="M 0 556 L 200 556" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-4-565-192-70-0)" font-size="12px"><text x="5.5" y="577.5">+ setFileType(fileType: FileType)</text><text x="5.5" y="591.5">+ getFileType(): FileType</text></g><path d="M 110 444.7 L 110 468 L 100 468 L 100 493.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 110 437.7 L 113.5 441.2 L 110 444.7 L 106.5 441.2 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 100 498.88 L 96.5 491.88 L 100 493.63 L 103.5 491.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 101.89 290.68 L 101.9 300 L 101.99 342.6" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 101.89 283.68 L 105.39 287.18 L 101.89 290.68 L 98.39 287.18 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 102 347.85 L 98.48 340.86 L 101.99 342.6 L 105.48 340.84 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 30 376 L 30 350 L 190 350 L 190 376" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 30 376 L 30 436 L 190 436 L 190 376" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 30 376 L 190 376" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="12px"><text x="109.5" y="367.5">FileDetails</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-34-381-152-26-0)" font-size="12px"><text x="35.5" y="393.5">- fileMeta: FileMeta</text></g><path d="M 30 406 L 190 406" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-34-415-152-26-0)" font-size="12px"><text x="35.5" y="427.5">+ method(type): type</text></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://desk.draw.io/support/solutions/articles/16000042487" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>